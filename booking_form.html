<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Drive Smart Car Booking Form</title>
    
    <link rel="stylesheet" type="text/css" href="css/jquery-gallery.css">
    <link href="https://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon.ico">
	<link href="https://fonts.googleapis.com/css?family=PT+Sans:400" rel="stylesheet">
	<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />

	<link type="text/css" rel ="stylesheet" href = "css/styles.css">
	<link type="text/css" rel="stylesheet" href="css/style.css" />

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<script>
        $(document).ready(function () {	
			$('#bookingForm').fadeIn(3000, function () {});
        });
    </script>

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
	

</head>

<body>
	<nav>
        <div class ="logo"> 
            <a class="navbar-brand mr-4 nav-item nav-link" href="index.html">
                <img src="images/logo1.jpg" alt="A1 Telecom" width="120" height="90">
                </a>
       </div>
        <label for ="btn" class ="icon">
            <span class ="fa fa-bars"></span>
        </label>
        <div class="right"> 
			<h4 class="welcome" id="welcome_msg"></h4>
			<br>
			<ul style="z-index: 1000;">
				<li>
					<a href ="#">Book Vehicle</a>
					<ul>
						<li><a href ="car.html">Car</a></li>
						<li><a href ="suv.html">SUV</a></li>
						<li><a href ="van.html">Van</a></li>         
					</ul>     
				</li>
				<li>
					<a href = "/booking_form.html">Manage Bookings</a>
				</li>
				<li><a href ="Aboutus.html">About Us</a></li>
				<li><a href ="Contactus.html">Contact Us</a></li>
				<li><a href ="SignIn.html">SIGN IN / JOIN</a></li>
			</ul>
		</div>
    </nav>

	<div id="booking" class="section">
		<div class="section-center">
			<div class="container">
				<div class="row">
					<span class="text-red" id="booking_msg"></span>
					<div id="bookingForm" class="booking-form">
						<form>
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<span class="form-label">Booking Reference</span>
										<input id="booking_reference" class="form-control" type="text" placeholder="Booking reference">
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<span class="form-label">Full Name</span>
										<input id="fullname" class="form-control" type="text" placeholder="Full name" readonly>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<span class="form-label">Pick-up</span>
										<input id="pickup_date" class="form-control" type="date" readonly>
									</div>
								</div>
								<div class="col-md-2" >
									<div class="form-group">
										<span class="form-label">Hour</span>
										<select id="hour" class="form-control">
											<option>1</option>
											<option>2</option>
											<option>3</option>
											<option>4</option>
											<option>5</option>
											<option>6</option>
											<option>7</option>
											<option>8</option>
											<option>9</option>
											<option>10</option>
											<option>11</option>
											<option>12</option>
										</select>
										<span class="select-arrow"></span>
									</div>
								</div>
								<div class="col-md-2">
									<div class="form-group">
										<span class="form-label">Minute</span>
										<select id="minute" class="form-control">
											<option>00</option>
											<option>05</option>
											<option>10</option>
											<option>15</option>
											<option>20</option>
											<option>25</option>
											<option>30</option>
											<option>35</option>
											<option>40</option>
											<option>45</option>
											<option>50</option>
											<option>55</option>
										</select>
										<span class="select-arrow"></span>
									</div>
								</div>
								<div class="col-md-2">
									<div class="form-group">
										<span class="form-label">AM/PM</span>
										<select id="am_pm" class="form-control">
											<option>AM</option>
											<option>PM</option>
										</select>
										<span class="select-arrow"></span>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-12">
									<div class="form-group">
										<span class="form-label">Return</span>
										<input id="return_date" class="form-control" type="date" readonly>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-12">
									<div class="col-md-2"></div>
									<div id="viewBookingbtn" class="col-md-8">
										<div class="form-btn">
											<input type="button" class="submit-btn" value="View Booking" onclick="viewBooking()"/>
										</div>
									</div>
								</div>

								<div class="col-md-12">
									<div class="col-md-2"></div>
									<div id="modifyBookingbtn" class="col-md-8">
										<div class="form-btn">
											<input type="button" class="submit-btn" onclick="modifyBooking()" value="Modify This Booking"/>
										</div>
									</div>
								</div>

								<div class="col-md-12">
									<div class="col-md-2"></div>
									<div id="saveBookingbtn" class="col-md-8">
										<div class="form-btn">
											<input type="submit" class="submit-btn" onclick="saveBooking()" value="Save Changes"/>
										</div>
									</div>
								</div>

								<div class="col-md-12">
									<div class="col-md-2"></div>
									<div id="cancelBookingbtn" class="col-md-8">
										<div class="form-btn">
											<button class="submit-btn" onclick="cancelBooking()">Cancel Booking</button>
										</div>
									</div>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
<script>
	$(document).ready(function(){
		var fullname = sessionStorage.getItem('fullname');
		if(fullname != undefined || fullname != ""){
		$('#welcome_msg').html('Welcome ' + fullname);
		}
	});
</script>



<script>
    var booking_data = [{"12345qwerty":{booking_reference: "12345qwerty", fullname: "Mike Brown", pickup_date: new Date("2021-05-25").toISOString().slice(0, 10), hour: "2", minute: "00", am_pm: "PM", return_date: new Date("2021-05-31").toISOString().slice(0, 10)}},
						{"54321asdfgh":{booking_reference: "54321asdfgh", fullname: "Jane Richard", pickup_date: new Date("2021-04-17").toISOString().slice(0, 10), hour: "10", minute: "30", am_pm: "AM", return_date: new Date("2021-04-20").toISOString().slice(0, 10)}}
	];
</script>

<script>
	function viewBooking() {
		$('#booking_msg').html('');
		var booking_reference = document.getElementById("booking_reference").value;
		var isExist = false;
		for (i in booking_data){
			Object.keys(booking_data[i]).forEach(k => {
				if (k == booking_reference){
					isExist = true;
					document.getElementById("fullname").value = booking_data[i][k].fullname;
					document.getElementById("pickup_date").value = booking_data[i][k].pickup_date;
					document.getElementById("hour").value = booking_data[i][k].hour;
					document.getElementById("minute").value = booking_data[i][k].minute;
					document.getElementById("am_pm").value = booking_data[i][k].am_pm;
					document.getElementById("return_date").value = booking_data[i][k].return_date;
				}
			});
		}
		if (isExist){
			document.getElementById("viewBookingbtn").style.display = "none";
			document.getElementById("modifyBookingbtn").style.display = "inline";
			document.getElementById("cancelBookingbtn").style.display = "inline";
		}
		else{
			$('#booking_msg').html('That booking reference was not found!!')
		}
	}
</script>

<script>
	function modifyBooking() {
		$('#booking_msg').html('');
		$('#pickup_date').prop('readonly', false);
		$('#return_date').prop('readonly', false);
		$('#fullname').prop('readonly', false);
		$('#booking_reference').prop('readonly', true);
		document.getElementById("modifyBookingbtn").style.display = "none";
		document.getElementById("saveBookingbtn").style.display = "inline";
	}
</script>

<script>
	function saveBooking() {
		$('#booking_msg').html('');
		document.getElementById("booking_msg").style.color = "green";
		$('#booking_msg').html('Booking Modified!')
	}
</script>

<script>
	function cancelBooking() {
		$('#booking_msg').html('');
		sessionStorage.clear();
		document.getElementById("booking_msg").style.color = "green";
		$('#booking_msg').html('Booking Cancelled!')
	}
</script>

</body>

</html>
